#!/usr/bin/env groovy
/*
 * Forkfile
 * gradle-xcodePlugin
 */

node {
    stage("🛒 Checkout") {
        checkout scm
        sh "pwd"
        sh "ls -l"
    }
    stage("⏫ Update") {
        gradle "projects"
    }
}

void gradle(String command) {
    sh """./.fork/gradlew \
        --no-daemon \
        --build-file build.gradle.kts \
        --settings-file settings.gradle.kts \
        --warning-mode all \
        $command
    """
}
